<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Statistical Analysis</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="1.1-front-page.html"><strong aria-hidden="true">1.</strong> Welcome</a></li><li class="chapter-item expanded "><a href="about.html"><strong aria-hidden="true">2.</strong> About LumoSQL</a></li><li class="chapter-item expanded "><a href="1.2-top-features.html"><strong aria-hidden="true">3.</strong> Top Features</a></li><li class="chapter-item expanded "><a href="1.4-install-LumoSQL.html"><strong aria-hidden="true">4.</strong> Install</a></li><li class="chapter-item expanded "><a href="quickstart.html"><strong aria-hidden="true">5.</strong> Quick Build and Benchmark</a></li><li class="chapter-item expanded affix "><li class="part-title">Features</li><li class="chapter-item expanded "><a href="3.4-not-forking-tool.html"><strong aria-hidden="true">6.</strong> Not-Forking Tool</a></li><li class="chapter-item expanded "><a href="lumo-build-benchmark.html"><strong aria-hidden="true">7.</strong> Build and Benchmark System (build.tcl)</a></li><li class="chapter-item expanded "><a href="backends.html"><strong aria-hidden="true">8.</strong> Available Backends - SQLite B-tree and LMDB</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="lumo-sqlite-bdb-backend.html"><strong aria-hidden="true">8.1.</strong> BDB 18.1.32 Backend</a></li><li class="chapter-item expanded "><a href="lumo-malbrain-backend.html"><strong aria-hidden="true">8.2.</strong> Karl Malbrain's C Btree</a></li></ol></li><li class="chapter-item expanded "><a href="lumo-corruption-detection-and-magic.html"><strong aria-hidden="true">9.</strong> Corruption Detection</a></li><li class="chapter-item expanded "><a href="3.3-benchmarking.html"><strong aria-hidden="true">10.</strong> Benchmarking</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="lumo-benchmark-filter.html"><strong aria-hidden="true">10.1.</strong> Displaying Benchmark Results (benchmark-filter.tcl)</a></li><li class="chapter-item expanded "><a href="statistical_analysis.html" class="active"><strong aria-hidden="true">10.2.</strong> Statistical Analysis</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">New features</li><li class="chapter-item expanded "><a href="rbac-design.html"><strong aria-hidden="true">11.</strong> Design of Role-Based Access Control</a></li><li class="chapter-item expanded "><a href="encryption.html"><strong aria-hidden="true">12.</strong> Encryption</a></li><li class="chapter-item expanded "><a href="lumion_intro.html"><strong aria-hidden="true">13.</strong> Lumion</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rfc.html"><strong aria-hidden="true">13.1.</strong> Lumion RFC</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Research</li><li class="chapter-item expanded "><a href="2.1-development-landscape.html"><strong aria-hidden="true">14.</strong> SQLite Development Landscape</a></li><li class="chapter-item expanded "><a href="3.7-relevant-codebases.html"><strong aria-hidden="true">15.</strong> Overview of Relevant Codebases</a></li><li class="chapter-item expanded "><a href="2.4-relevant-knowledgebase.html"><strong aria-hidden="true">16.</strong> Overview of the Relevant Knowledgebase</a></li><li class="chapter-item expanded "><a href="3.6-development-notes.html"><strong aria-hidden="true">17.</strong> LumoSQL 2019 Prototype</a></li><li class="chapter-item expanded affix "><li class="part-title">Design</li><li class="chapter-item expanded "><a href="api.html"><strong aria-hidden="true">18.</strong> SQLite API Interception Points</a></li><li class="chapter-item expanded "><a href="virtual-machine.html"><strong aria-hidden="true">19.</strong> SQLite Virtual Machine Layer</a></li><li class="chapter-item expanded "><a href="WALs.html"><strong aria-hidden="true">20.</strong> LMDB Alternative to WALs</a></li><li class="chapter-item expanded "><a href="what-are-savepoints.html"><strong aria-hidden="true">21.</strong> Savepoints in SQLite</a></li><li class="chapter-item expanded "><a href="online-database-servers.html"><strong aria-hidden="true">22.</strong> Online Database Servers</a></li><li class="chapter-item expanded affix "><li class="part-title">Other</li><li class="chapter-item expanded "><a href="LumoSQL-PhaseII-Announce.html"><strong aria-hidden="true">23.</strong> News - Phase II Announcement</a></li><li class="chapter-item expanded "><a href="release-announce-0.4.html"><strong aria-hidden="true">24.</strong> News - Release 0.4 Announcement</a></li><li class="chapter-item expanded "><a href="release-announce-0.3.html"><strong aria-hidden="true">25.</strong> News - Release 0.3 Announcement</a></li><li class="chapter-item expanded "><a href="lumo-gsoc-ideas.html"><strong aria-hidden="true">26.</strong> Google Summer of Code 2021</a></li><li class="chapter-item expanded "><a href="lumo-proposed-debug.html"><strong aria-hidden="true">27.</strong> SQLite Debug Proposal</a></li><li class="chapter-item expanded "><a href="CONTRIBUTING.html"><strong aria-hidden="true">28.</strong> Conributing</a></li><li class="chapter-item expanded "><a href="lumosql-meetbot.html"><strong aria-hidden="true">29.</strong> Contributing - IRC Meetbot</a></li><li class="chapter-item expanded "><a href="CODE-OF-CONDUCT.html"><strong aria-hidden="true">30.</strong> Code of Conduct</a></li><li class="chapter-item expanded "><a href="3.2-legal-aspects.html"><strong aria-hidden="true">31.</strong> Legal Aspects</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="licensing.html"><strong aria-hidden="true">31.1.</strong> Licensing</a></li><li class="chapter-item expanded "><a href="MIT.html"><strong aria-hidden="true">31.2.</strong> MIT Licence</a></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h1>
<ol>
<li><a href="#orgc3e34f0">Research questions</a></li>
<li><a href="#orge3f663a">Data</a></li>
<li><a href="#org1fa9c9c">Design of experiment</a>
<ol>
<li><a href="#org4c9f39a">Concepts</a></li>
<li><a href="#orga4c3602">LumoSQL versus SQLite</a></li>
<li><a href="#org4ce47ab">Benchmark data</a></li>
</ol>
</li>
<li><a href="#org5e20a6a">Methods</a>
<ol>
<li><a href="#org9602d2a">General considerations</a></li>
<li><a href="#org3d7cf37">Model matrix</a></li>
</ol>
</li>
<li><a href="#org47694e5">References</a></li>
</ol>
<p><a id="orgc3e34f0"></a></p>
<h1 id="research-questions"><a class="header" href="#research-questions">Research questions</a></h1>
<p>Amassing data is not enough. We need to define the comparisons that
we want to make to design the type of runs suitable for the analysis.</p>
<p>We have <em>many</em> run time measurements produced under varying conditions:</p>
<ul>
<li>Data size</li>
<li>Backend (unmodified vs. lmdb)</li>
<li>SQLite version</li>
<li>lmdb version</li>
</ul>
<p>We have <em>some</em> run time measurements produced under varying
conditions of storage, cpu, and OS version. If we want to address
the impact of these on run times, we'd need to produce new runs.</p>
<p>We have <em>no</em> data to study the effects of these:</p>
<ol>
<li><code>byte-order</code></li>
<li><code>option-debug</code></li>
<li><code>option-lmdb_debug</code></li>
<li><code>option-lmdb_fixed_rowid</code></li>
<li><code>option-lmdb_transaction</code></li>
<li><code>option-rowsum</code></li>
<li><code>option-rowsum_algorithm</code></li>
<li><code>option-sqlite3_journal</code></li>
<li><code>os-type</code></li>
</ol>
<p>These are questions pulled from [1] and or #lumosql at libera.chat</p>
<ul>
<li>[Q1] What happens to performance when LMDB is swapped in as a storage
backend for SQLite?</li>
<li>[Q2] Does SQLite get faster with each version?</li>
<li>[Q3] Does LMDB get faster with each version?</li>
<li>[Q4] Which compile options make a given version of SQLite faster?</li>
<li>[Q5] How do different versions combine to change performance as data size gets large, separately for read and write?</li>
<li>[Q6] Do compile options affect performance differently as data size changes?</li>
<li>[Q7] Does SQLITE_DEBUG really make SQLite run approximately three
times slower, as claimed on sqlite.org?</li>
<li>[Q8] What happens when a given set of compile options, versions and
data size are tested on faster and slower disks?</li>
<li>[Q9] What is the effect of testing reads and writes on different disks,
given that the relative speeds for read and write may differ greatly?</li>
<li>[Q10] meta-benchmarking question: does the &quot;discard output&quot; option to
benchmarking make no significant timing difference, as expected?
(it may prevent benchmarking crashing on giant sizes).</li>
</ul>
<p>Please, list below your questions in the right category. Leave your
name after each question so we can follow up. Consider framing your
questions in terms of <em>how much</em> rather than binary terms (<em>how
much does A differ from B?</em> versus <em>is A higher than B?</em>)</p>
<ul>
<li>Main questions: that should be up front the focus of the immediate
runs and analysis
<ul>
<li>Dan - Q1, Q2, Q3, Q5, Q9</li>
<li>Add question and name here</li>
</ul>
</li>
<li>Peripheric questions: that you would like answer as a side effect
with little to no additional effort involved
<ul>
<li>Dan - Q4, Q6, Q8</li>
<li>Add question and name here</li>
</ul>
</li>
<li>Dream questions: that you would like to answer in the future but
it's out of reach right now
<ul>
<li>What is the performance impact of row checksums?  This will
need to wait until we've reworked the way we store it.
(Uilebheist 20220325)</li>
<li>What is the impact of using a different strategy to implement
sqlite transactions using LMDB transactions?  This is the
<code>option-lmdb_transaction</code> but its effect is only visible
when lots of processes try to run concurrent transaction, and
would require a different experiment from what we've been running
(Uilebheist 20220325)</li>
<li>What difference does it make to use the pre-computed checksum
columns for operations such as selecting the rows which have changed
compared with a traditional method such as a column called &quot;last updated&quot;,
and also a straight SELECT.
(Dan 20220405)</li>
</ul>
</li>
</ul>
<p><a id="orge3f663a"></a></p>
<h1 id="data"><a class="header" href="#data">Data</a></h1>
<ul>
<li>Download from <a href="https://lumosql.org/dist/benchmarks-to-date/">/dist/benchmarks-to-date</a></li>
<li>Start with the <code>all-lumosql-benchmark-data-combined.sqlite</code> file</li>
<li>For records with empty <code>sqliteVersion</code> and <code>backendName = dbd</code>, set
<code>sqliteVersion</code> to the version number in the <code>sqliteTitle</code> string</li>
<li>For records with empty <code>backendVersion</code>, set <code>backendName</code> and
<code>backendVersion</code> to <code>unmodified</code></li>
<li>Subset records with <code>backendVersion</code> matching <code>unmodified|lmdb</code></li>
<li>Subset records with <code>sqliteVersion</code>  matching <code>3\.3[4-8]</code></li>
</ul>
<p><a id="org1fa9c9c"></a></p>
<h1 id="design-of-experiment"><a class="header" href="#design-of-experiment">Design of experiment</a></h1>
<p><a id="org4c9f39a"></a></p>
<h2 id="concepts"><a class="header" href="#concepts">Concepts</a></h2>
<ul>
<li><strong>Control variables:</strong> Experimenter-selected treatment variables where knowledge of
their effect is the primary objective</li>
<li><strong>Environmental variables:</strong> Describe the operating conditions of an experimental
subject/unit/process
<ul>
<li>A <em>blocking factor</em> is a qualitative environmental variables
identifying identical groups of experimental material</li>
<li>A <em>confounding variable</em> is unrecognized by the experimental
but actively affect the mean output of the physical
system. These can mask or exaggerate the effect of a treatment
variable. E.g., active confounding variable that is correlated
with the treatment variable.</li>
</ul>
</li>
<li><strong>Model variables:</strong> Not present in this experiment</li>
<li><strong>Reproducibility variables:</strong> data recorded for reproducibility that is expected to have no
effect, or whose effect is not of interest, on the response</li>
</ul>
<p><a id="orga4c3602"></a></p>
<h2 id="lumosql-versus-sqlite"><a class="header" href="#lumosql-versus-sqlite">LumoSQL versus SQLite</a></h2>
<p>LumoSQL runs SQLite with LMDB for key-value storing (<a href="https://lumosql.org/src/lumosql/file?name=new-doc/web/lumosql.org/releases-downloads.html&amp;ci=tip">flavor 3</a>). We
want to compare runtimes for LumoSQL versus unmodified SQLite,
where the latter acts as a baseline. This analysis focuses on two
configuration sets:</p>
<p><a id="org4ce47ab"></a></p>
<h2 id="benchmark-data"><a class="header" href="#benchmark-data">Benchmark data</a></h2>
<p>The following table contains all the key-values recorded for each
run. We classify them into the following groups:</p>
<ol>
<li>Variables selected by the experimenters whose knowledge of their
effect on running times is the primary objective</li>
<li>Variables not directly selected by the experimenters that can
plausibly have some impact on running times</li>
<li>Variables that are of no interest, and were recorded only for
the purpose of reproducibility or debugging the LumoSQL Build
and Benchmark system, are not expected to impact on running
times</li>
</ol>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> ZV = zero-variance variable (Y = yes), B = Bayes, D = Dan, L = Labhraich. Comments from L: 3* if we change the list of tests, <code>notforking-date</code> and <code>-id</code> will help knowing which list we ran, which could affect timings 3** they may affect timings if <code>tests-fail</code>, <code>-intr</code> are non-zero, <code>tests-ok</code> is not 17</caption>
<colgroup>
<col  class="org-left" />
<col  class="org-left" />
<col  class="org-left" />
<col  class="org-right" />
<col  class="org-right" />
<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">key</th>
<th scope="col" class="org-left">Example value</th>
<th scope="col" class="org-left">ZV</th>
<th scope="col" class="org-right">B</th>
<th scope="col" class="org-right">D</th>
<th scope="col" class="org-right">L</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">backend</td>
<td class="org-left">bdb-18.1.32</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">backend-date</td>
<td class="org-left">2014-09-20 06:24:32 UTC</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
</tr>
<tr>
<td class="org-left">backend-id</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">?</td>
<td class="org-right">3</td>
</tr>
<tr>
<td class="org-left">backend-name</td>
<td class="org-left">bdb</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">backend-version</td>
<td class="org-left">18.1.32</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">byte-order</td>
<td class="org-left">littleEndian</td>
<td class="org-left">Y</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
</tr>
<tr>
<td class="org-left">cpu-comment</td>
<td class="org-left">Skylake IBRS</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">2</td>
<td class="org-right">2</td>
</tr>
<tr>
<td class="org-left">cpu-type</td>
<td class="org-left">x86<sub>64</sub></td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">2</td>
<td class="org-right">2</td>
</tr>
<tr>
<td class="org-left">disk-comment</td>
<td class="org-left">SATA 7200RPM</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">2</td>
<td class="org-right">2</td>
<td class="org-right">2</td>
</tr>
<tr>
<td class="org-left">disk-read-time</td>
<td class="org-left">0.398953</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">2</td>
<td class="org-right">2</td>
<td class="org-right">2</td>
</tr>
<tr>
<td class="org-left">disk-write-time</td>
<td class="org-left">1.393422</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">2</td>
<td class="org-right">2</td>
<td class="org-right">2</td>
</tr>
<tr>
<td class="org-left">end-run</td>
<td class="org-left">1644063382</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
</tr>
<tr>
<td class="org-left">notforking-date</td>
<td class="org-left">2022-02-16 09:51:24</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
<td class="org-right">3*</td>
</tr>
<tr>
<td class="org-left">notforking-id</td>
<td class="org-left">e2b80d918b83f129ac47cfc5bd9941a&#x2026;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
<td class="org-right">3*</td>
</tr>
<tr>
<td class="org-left">option-datasize</td>
<td class="org-left">1</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">option-debug</td>
<td class="org-left">off</td>
<td class="org-left">Y</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">option-lmdb<sub>debug</sub></td>
<td class="org-left">off</td>
<td class="org-left">Y</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">option-lmdb<sub>fixed</sub><sub>rowid</sub></td>
<td class="org-left">off</td>
<td class="org-left">Y</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">option-lmdb<sub>transaction</sub></td>
<td class="org-left">optimistic</td>
<td class="org-left">Y</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">option-rowsum</td>
<td class="org-left">off</td>
<td class="org-left">Y</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">option-rowsum<sub>algorithm</sub></td>
<td class="org-left">sha3<sub>256</sub></td>
<td class="org-left">Y</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">option-sqlite3<sub>journal</sub></td>
<td class="org-left">default</td>
<td class="org-left">Y</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">os-type</td>
<td class="org-left">Linux</td>
<td class="org-left">Y</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">2</td>
</tr>
<tr>
<td class="org-left">os-version</td>
<td class="org-left">5.10.0-9-amd64</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">2</td>
<td class="org-right">1</td>
<td class="org-right">2</td>
</tr>
<tr>
<td class="org-left">sqlite-date</td>
<td class="org-left">2020-12-01 16:14:00 UTC</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
</tr>
<tr>
<td class="org-left">sqlite-id</td>
<td class="org-left">1b256d97b553a9611efca188a3d995a&#x2026;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">1</td>
<td class="org-right">3</td>
</tr>
<tr>
<td class="org-left">sqlite-name</td>
<td class="org-left">3.35.5 2021-04-19 18:32:05 1b25&#x2026;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">1</td>
<td class="org-right">3</td>
</tr>
<tr>
<td class="org-left">sqlite-version</td>
<td class="org-left">3.35.5</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">target</td>
<td class="org-left">3.35.5</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">tests-fail</td>
<td class="org-left">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
<td class="org-right">3**</td>
</tr>
<tr>
<td class="org-left">tests-intr</td>
<td class="org-left">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
<td class="org-right">3**</td>
</tr>
<tr>
<td class="org-left">tests-ok</td>
<td class="org-left">17</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
<td class="org-right">3**</td>
</tr>
<tr>
<td class="org-left">title</td>
<td class="org-left">sqlite 3.35.5</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>
<tr>
<td class="org-left">when-run</td>
<td class="org-left">1644063269</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
</tr>
<tr>
<td class="org-left">word-size</td>
<td class="org-left">8</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">3</td>
<td class="org-right">1</td>
<td class="org-right">3</td>
</tr>
</tbody>
</table>
<p><a id="org5e20a6a"></a></p>
<h1 id="methods"><a class="header" href="#methods">Methods</a></h1>
<p><a id="org9602d2a"></a></p>
<h2 id="general-considerations"><a class="header" href="#general-considerations">General considerations</a></h2>
<ul>
<li>Some systems are faster than others, need to account for that
(Labhraich 20220316)</li>
<li>Consider normalizing test timings by the total run time (Labhraich
<ol>
<li></li>
</ol>
</li>
</ul>
<p><a id="org3d7cf37"></a></p>
<h2 id="model-matrix"><a class="header" href="#model-matrix">Model matrix</a></h2>
<p><code>log(realTime) ~ backendName * backendVersion + diskComment + optionDatasize + sqliteVersion + (1|cpuComment) + (1|osVersion)</code></p>
<p>Notes on zero-variance variables: these are excluded because they
have no variability in the collected data</p>
<ol>
<li><code>byte-order</code></li>
<li><code>option-debug</code></li>
<li><code>option-lmdb_debug</code></li>
<li><code>option-lmdb_fixed_rowid</code></li>
<li><code>option-lmdb_transaction</code></li>
<li><code>option-rowsum</code></li>
<li><code>option-rowsum_algorithm</code></li>
<li><code>option-sqlite3_journal</code></li>
<li><code>os-type</code></li>
</ol>
<p>Notes on control variables:</p>
<ol>
<li>Include the interaction between <code>backend-name</code> and
<code>backend-version</code> if there is interest in the latter main
effect. Drop <code>backend</code>, which is 1-1 to the interaction.</li>
<li>Include <code>diskComment</code>. <code>diskReadTime</code> and <code>DiskWriteTime</code> are
correlated with <code>diskComment</code>, no need to have the times in the
model.</li>
<li>Include <code>option-datasize</code> as categorical because the effect
might be non-lineal</li>
<li>Include <code>sqlite-version</code></li>
</ol>
<p>Notes on environmental variables:</p>
<ol>
<li>Include <code>cpuComment</code> for blocking, drop <code>cpuType</code>. There is only
one <code>cpuComment</code> with <code>cpuType=armv7l</code></li>
<li>Include <code>osVersion</code> for blocking, drop <code>osType</code></li>
</ol>
<p>Notes on reproducibility variables: these are excluded from model
as they were <span class="underline">not</span> recorded for their relevance with respect to the
question but for reproducibility or debugging purposes.</p>
<p>Notes on pending variables: their role in the model matrix is still
TBD</p>
<ol>
<li>All control variables not commented on.</li>
</ol>
<h2 id="other-considerations"><a class="header" href="#other-considerations">Other considerations</a></h2>
<ul>
<li>Comments from gabby_bch (2022-04-05)
<ul>
<li>error bar runs: 5.4.0.91-generic, 5.15.29</li>
<li>big error bars: 5.13.0-22-generic</li>
<li>sqlite old normal : 5.4.0-100-generic</li>
<li>anomaly: 5.4.0.104-generic</li>
<li>unmodified superior to lmdb: 5.10.92, 5.10.100</li>
<li>lmdb superior to unmodified: 5.15.24</li>
<li>compare cpu influence: 5.10.91, 5.10.92</li>
<li>raspberry pi: 5.10.63</li>
</ul>
</li>
</ul>
<p><a id="org47694e5"></a></p>
<h1 id="references"><a class="header" href="#references">References</a></h1>
<ol>
<li><a href="https://lumosql.org/src/lumosql/doc/trunk/doc/lumo-build-benchmark.md">LumoSQL Build and Benchmark System</a></li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="lumo-benchmark-filter.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="rbac-design.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="lumo-benchmark-filter.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="rbac-design.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
